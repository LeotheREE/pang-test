const categories = {
    "EE": [
    {
        question: "ESAS PALANG",
        choices: ["ESAS PALANG", "ESAS PALANG1", "ESAS PALANG2", "ESAS PALANG3"],
        answer: "ESAS PALANG"
    },
    {
        question: "ESAS PALANG:",
        choices: ["ESAS PALANG", "ESAS PALANG1", "ESAS PALANG2", "ESAS PALANG3"],
        answer: "ESAS PALANG"
    },
    {
        question: "ESAS PALANG",
        choices: ["ESAS PALANG", "ESAS PALAN1G", "ESAS PALANG2", "ESAS PALANG3"],
        answer: "ESAS PALANG"
    }

    ],


    "ESAS 2": [


    {
        "question": "Which of the following is TRUE for water at a reference temperature when enthalpy is zero?",
        "choices": ["Internal energy is negative", "Entropy is nonzero", "Specific volume is zero", "Vapor pressure is zero"],
        "answer": "Entropy is nonzero"
    },
    {
        "question": "Which one of these statements is TRUE for twinning?",
        "choices": ["It is the most significant form of plastic deformation.", "It cannot be caused by impact or thermal structure.", "It occurs at lower shear stresses than slip.", "It frequently occurs in hexagonal closed-packed structures."],
        "answer": "It frequently occurs in hexagonal closed-packed structures."
    },
    {
        "question": "A 20-microfarad capacitor is connected to a source of potential difference of 230V. What is the resulting charge on the capacitor?",
        "choices": ["4.8 x10^-3 C", "4.2 x10^-3 C", "4.6 x10^-3 C", "4.4 x10^-3 C"],
        "answer": "4.6 x10^-3 C"
    },
    {
        "question": "What is in a machine that it is capable of absorbing and organizing new data, learning new concept, reasoning logically and responding to inquiries?",
        "choices": ["Self-process intelligence", "Artificial intelligence", " Man-free intelligence", " None of these"],
        "answer": "Artificial intelligence"
    },
    {
        "question": "Who is responsible for ensuring that the project is completed successfully as measured by time, cost, performance and stakeholder satisfaction?",
        "choices": ["Functional manager", "Project manager", "Chief engineer", "Department supervisor"],
        "answer": "Project manager"
    },
    {
        "question": "How tall does a wall mirror have to be in order for you to see all of yourself in the mirror? Imagine you stand a distance 'd' from the mirror and your height is 'h' and L is the length of mirror required.",
        "choices": ["L=1/5 h", "L=1/4 h", "L=1/2 h", "L=1/3 h"],
        "answer": "L=1/2 h"
    },
    {
        "question": "What is a coal that has been previously burned in an oxygen-poor environment?",
        "choices": ["Tuyere", "Diamond", "Ore", "Coke"],
        "answer": "Coke"
    },
    {
        "question": "What is the RMS velocity of CO2 at 27ºC?",
        "choices": ["412 m/sec", "421 m/sec", "517 m/sec", "571 m/sec"],
        "answer": "412 m/sec"
    },
    {
        "question": "Which of the following is the allowed value for Poisson ratio of a material?",
        "choices": ["0.35", "0.55", "0.61", "0.53"],
        "answer": "0.35"
    },
    {
        "question": "A Kaplan turbine is _____.",
        "choices": ["A high head mixed flow turbine", "An impulse turbine, inward flow", "A reaction turbine, outward flow", "Low head axial flow turbine"],
        "answer": "Low head axial flow turbine"
    },
    {
        "question": "Which of the following would be identified with control volume in thermodynamics?",
        "choices": ["Expansion of gas in a cylinder after combustion", "Compression of air in a cylinder", "Filling a tire with air at a service station", "The goodyear blimp during flight"],
        "answer": "Filling a tire with air at a service station"
    },
    {
        "question": "How much force is needed to keep a 85-kg cart moving at constant velocity on a level concrete road? Use ‘I = 0.04 for coefficient of friction.",
        "choices": ["35.28 N", "37.24 N", "33.32 N", " 31.36 N"],
        "answer": "33.32 N"
    },
    {
        "question": "What is the molecular weight of Nitric acid (HNO3)?",
        "choices": ["47.01", "63.01", "31.01", "65.02"],
        "answer": "63.01"
    },
    {
        "question": "The “earth” best defines of which of the following term?",
        "choices": ["bonding", "ground electrode", "ground", "grounded conductor"],
        "answer": "ground"
    },
    {
        "question": "A car travels 100 miles to city X in 2 hours, then travels 200 miles to city Y in 3 hours. What is the average speed of the car for the trip?",
        "choices": ["45 mph", "66.7 mph", "58.5 mph", "60 mph"],
        "answer": "60 mph"
    },
    {
        "question": "Pedro will inherit P 500,000 in three years has a savings account that pays 6% per year, compounded annually. What is the present worth of Pedro’s inheritance?",
        "choices": ["P413,924.55", "P425,806.83", "P419,809.64", "P431,942.55"],
        "answer": "P419,809.64"
    },
    {
        "question": "What refers to the point in which bending moment changes sign through a zero value in strength of materials?",
        "choices": ["Zero stress point", "Critical point", "Point of contra-flexure", "Point of inflection"],
        "answer": "Point of contra-flexure"
    },
    {
        "question": "What would be the most important factor under consideration for the site selection of a thermal plant?",
        "choices": ["Availability of fuel area", "Availability of water", "Distance from the populated", "Cost and the type of land."],
        "answer": "Availability of water"
    },
    {
        "question": "Under OSHS Rule 1040, a work place with less than 100 worker is under what type and composition of Health and Safety.",
        "choices": ["Type A", "Type B", "Type C", "Type D"],
        "answer": "Type B"
    },
    {
        "question": "The usual function of a disconnect switches in high voltage circuits is to ____.",
        "choices": ["Open the circuit in the event of an overload", "Open or close the circuit under load", "Maintain continuity of service", "Isolate from energized buses, equipment which are not in service"],
        "answer": "Isolate from energized buses, equipment which are not in service"
    },
    {
        "question": "Which of the following statements is FALSE?",
        "choices": ["Steady flow does not change with time at any point.", "The Navier-Stokes equation is the equation of motion for a viscous Newtonian", "Bernoulli’s equation only holds on the same streamline.", "The Reynold’s number is the ratio of the viscous force to the inertial force"],
        "answer": "The Reynold’s number is the ratio of the viscous force to the inertial force"
    },
    {
        "question": "Eighty grams of brass (specific heat 0.092 Cal/g-K) at 292 degree C is added to 200 g of water (specific heat 1.0 Cal/g-K) at 14 degree C in an insulated container of negligible heat capacity. What is the final temperature in degree C?",
        "choices": ["29.3", "23.9", "23.5", "25.3"],
        "answer": "23.9"
    },
    {
        "question": "Characters in MATLAB are represented in their value in memory?",
        "choices": ["decimal", "ASCII", "hexadecimal", "string"],
        "answer": "ASCII"
    },

    {
        "question": "What form of software can also be called firmware?",
        "choices": ["Cache memory", "Operating system", "system BIOS", "random memory"],
        "answer": "system BIOS"
    },
    {
        "question": "What are the Van der Waals forces?",
        "choices": ["Primary bonds between atoms", "Forces not present in liquids", "Forces between electrons and protons", "Weak secondary bonds between atoms"],
        "answer": "Weak secondary bonds between atoms"
    },
    {
        "question": "In a mixed gas such as air, the rms speed of different molecules are ____",
        "choices": ["proportional to molecular mass", "Independent of molecular mass", "proportional to square root of molecular mass", "inversely proportional to square root of molecular mass"],
        "answer": "inversely proportional to square root of molecular mass"
    },
    {
        "question": "Given COP of 4, and QL of 20,000 kJ/hr, what is the approximate horsepower?",
        "choices": ["1", "2", "3", "4"],
        "answer": "2"
    },
    {
        "question": "It is the process of unifying the power of technology with entrepreneurial skills and capabilities.",
        "choices": ["Entrepreneurship", "Technopreneurship", "Innovations", "Business management"],
        "answer": "Technopreneurship"
    },
    {
        "question": "This MATLAB command clears all data and variables stored in memory:",
        "choices": ["clc", "delete", "deallocate", "clear"],
        "answer": "clear"
    },
    {
        "question": "Encryption can provide ALL of the following features of information systems security EXCEPT:",
        "choices": ["Confidentiality", "Integrity", "authenticity", "privacy"],
        "answer": "authenticity"
    },
    {
        "question": "Which of the following is NOT a unit of work?",
        "choices": ["N-m", "erg", "dyne", "kg-sq. m/sq. sec"],
        "answer": "dyne"
    },
    {
        "question": "Protection of workers from impact penetration from falling and flying objects, blows, and from limited electric shock and burns shall be provided where there is reasonable probability of exposure to such hazards.",
        "choices": ["Hard Hat", "Toe Board", "Harness", "Belt"],
        "answer": "Hard Hat"
    },
    {
        "question": "At what annual interest rate is P 500 one year ago equivalent to P 600 today?",
        "choices": ["18%", "20%", "17%", "23%"],
        "answer": "20%"
    },
    {
        "question": "An electric motor takes 5 Amp from a 220 Volt line. Determine the energy in kWh if supplied to the motor in 2 hours.",
        "choices": ["2.2", "1.5", "4.4", "3.4"],
        "answer": "2.2"
    },
    {
        "question": "Find the rate of conduction heat transfer in W/m^2 through a 1.5 cm thick hardwood board, k = 0.16 w/m-K, with a temperature difference between the two sides of 20-degree C.",
        "choices": ["3,125", "213", "0.048", "8,333"],
        "answer": "213"
    },
    {
        "question": "Which of the following is 'Murang Kuryente Act'?",
        "choices": ["R.A. 11361", "R.A. 11285", "R.A. 11371", "R.A. 10968"],
        "answer": "R.A. 11371"
    },
    {
        "question": "What is the interest where the interest occurred over the interest period is also subject to the interest rate in the next period?",
        "choices": ["Quarterly interest", "Compound interest", "Simple interest", "Annual interest"],
        "answer": "Compound interest"
    },
    {
        "question": "Under what conditions is mass conserved in fluid flow?",
        "choices": ["The fluid is barotropic", "The flow is isentropic", "The fluid is incompressible", "It is always conserved"],
        "answer": "The fluid is incompressible"
    },
    {
        "question": "What refers to the measure of the disorder present in a given substance or system?",
        "choices": ["Entropy", "Enthalpy", "Heat capacity", "Molar heat"],
        "answer": "Entropy"
    },
    {
        "question": "What is the term used when an American citizen is allowed to practice his profession, e.g., electrical engineering profession, here in the Philippines?",
        "choices": ["APEC registry", "ACPE registry", "Foreign Reciprocity", "ASEAN Engr"],
        "answer": "Foreign Reciprocity"
    },
    {
        "question": "The fastest method to transfer data wirelessly is ______.",
        "choices": ["GPRS", "Infrared", "802.11", "Bluetooth"],
        "answer": "802.11"
    },
    {
        "question": "Multiplying (912) base 8 by (111) base 2 in Hexadecimal base 16 is?",
        "choices": ["46", "11", "A7", "FE"],
        "answer": "A7"
    },
    {
        "question": "A man driving a car at 45 mph suddenly sees an object in the road 60 feet ahead. What constant deceleration is required to stop the car in this distance?",
        "choices": ["–42.6 ft/sec²", "–41.8 ft/sec²", "–36.3 ft/sec²", "–35.3 ft/sec²"],
        "answer": "–35.3 ft/sec²"
    },
    {
        "question": "A 1.2 µF capacitor is charged to 3 kVolt. What is the energy stored in the capacitor?",
        "choices": ["4.5 J", "6.7 J", "7.6 J", "5.4 J"],
        "answer": "5.4 J"
    },
    {
        "question": "In MATLAB, this keyword immediately moves to the next iteration of the loop:",
        "choices": ["update", "goto", "continue", "break"],
        "answer": "continue"
    },
    {
        "question": "What would be the printed result of the following instructions? 10 DEF FNA(X) = X**2+1/X 20 PRINT FNA(2) 30 END",
        "choices": ["3.2", "4.5", "6.5", "7.2"],
        "answer": "4.5"
    },
    {
        "question": "Determine the maximum shearing stress in a helical steel spring composed of 20 turns of 20 mm diameter wire on a mean radius of 80 mm when the spring is supporting a load of 2 kN.",
        "choices": ["121 MPa", "429 MPa", "370 MPa", "529 MPa"],
        "answer": "529 MPa"
    },
    {
        "question": "For a project manager to have an efficient means of identifying and communicating the planned activities and their interrelationships, he must use a network technique. One of the network techniques is commonly known as PERT. What does PERT stand for?",
        "choices": ["Project evaluation review technique", "Program evaluation review technique", "Path evaluation review technology", "Program execution review technique"],
        "answer": "Program evaluation review technique"
    },
    {
        "question": "What is the change in length (in cm) of a steel bar that is heated to 125°C, where the coefficient of expansion for steel = 12 microcm/cm/°C and a length = 3 m?",
        "choices": ["0.15", "0.79", "0.45", "0.55"],
        "answer": "0.45"
    },
    {
        "question": "What is the combination of laminar flow and turbulent flow?",
        "choices": ["Turbulent flow", "Laminar flow", "Critical flow", "Transitional flow"],
        "answer": "Transitional flow"
    },
    {
        "question": "How tall does a wall mirror have to be in order for you to see all of yourself in the mirror? Imagine you stand a distance 'd' from the mirror and your height is 'h' and L is the length of mirror required.",
        "choices": ["L=1/5 h", "L=1/4 h", "L=1/2 h", "L=1/3 h"],
        "answer": "L=1/2 h"
    }

    ],





    "MATH": [
    {
        question: "ESAS PALANG",
        choices: ["ESAS PALANG", "ESAS PALANG1", "ESAS PALANG2", "ESAS PALANG3"],
        answer: "ESAS PALANG"
    },
    {
        question: "ESAS PALANG:",
        choices: ["ESAS PALANG", "ESAS PALANG1", "ESAS PALANG2", "ESAS PALANG3"],
        answer: "ESAS PALANG"
    },
    {
        question: "ESAS PALANG",
        choices: ["ESAS PALANG", "ESAS PALAN1G", "ESAS PALANG2", "ESAS PALANG3"],
        answer: "ESAS PALANG"
    }

    ],
};

let questionPool = [];
let currentQuestionIndex = 0;

const menuContainer = document.getElementById("menu-container");
const quizContainer = document.getElementById("quiz-container");
const categoryTitle = document.getElementById("category-title");
const questionElement = document.getElementById("question");
const choicesContainer = document.getElementById("choices-container");
const nextButton = document.getElementById("next-button");
const restartButton = document.getElementById("restart-button");

document.querySelectorAll(".category").forEach(button => {
    button.addEventListener("click", () => {
        const selectedCategory = button.getAttribute("data-category");
        startQuiz(selectedCategory);
    });
});

function startQuiz(category) {
    questionPool = [...categories[category]];
    questionPool = shuffleArray(questionPool);
    currentQuestionIndex = 0;

    categoryTitle.textContent = category;
    menuContainer.style.display = "none";
    quizContainer.style.display = "block";

    /* ✅ **Added Fade-in Effect for the Quiz Section** ✅ */
    quizContainer.style.opacity = "0";
    setTimeout(() => { quizContainer.style.opacity = "1"; }, 100);

    loadQuestion();
}

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

function loadQuestion() {
    if (questionPool.length === 0) {
        questionElement.textContent = "🎉 REFRESH MO LANG PARA MAULIT MAY BUG KASI YUNG RESTART BUTTON HAHA 🎉";
        choicesContainer.innerHTML = "";
        nextButton.style.display = "none";
        restartButton.style.display = "inline-block";

        /* ✅ **Added Celebration Animation on Completion** ✅ */
        quizContainer.classList.add("celebrate");
        setTimeout(() => quizContainer.classList.remove("celebrate"), 2000);

        return;
    }

    const currentQuestion = questionPool[currentQuestionIndex];
    questionElement.textContent = currentQuestion.question;
    choicesContainer.innerHTML = "";

    currentQuestion.choices.forEach(choice => {
        const button = document.createElement("button");
        button.textContent = choice;
        button.classList.add("choice");
        button.addEventListener("click", () => handleChoice(button, choice, currentQuestion.answer));

        /* ✅ **Smooth Button Click Effect** ✅ */
        button.style.transition = "transform 0.2s ease";
        button.addEventListener("mousedown", () => button.style.transform = "scale(0.95)");
        button.addEventListener("mouseup", () => button.style.transform = "scale(1)");

        choicesContainer.appendChild(button);
    });

    nextButton.disabled = true;
}

function handleChoice(button, selected, correct) {
    const buttons = document.querySelectorAll(".choice");
    buttons.forEach(btn => {
        btn.disabled = true;
        if (btn.textContent === correct) {
            btn.classList.add("correct");
            /* ✅ **Added Green Glow Effect for Correct Answer** ✅ */
            btn.style.boxShadow = "0 0 10px #28a745";
        } else if (btn.textContent === selected) {
            btn.classList.add("incorrect");
            /* ✅ **Added Shake Animation for Incorrect Answer** ✅ */
            btn.style.animation = "shake 0.3s ease-in-out";
        }
    });

    if (selected === correct) {
        questionPool.splice(currentQuestionIndex, 1);
    } else {
        questionPool.push(questionPool[currentQuestionIndex]);
        questionPool.splice(currentQuestionIndex, 1);
    }

    nextButton.disabled = false;
}

nextButton.addEventListener("click", () => {
    /* ✅ **Added Smooth Transition Between Questions** ✅ */
    quizContainer.style.opacity = "0";
    setTimeout(() => {
        loadQuestion();
        quizContainer.style.opacity = "1";
    }, 300);
});

restartButton.addEventListener("click", () => {
    // ✅ Reset Everything Like a Fresh App Start
    menuContainer.style.display = "block"; // Show menu again
    quizContainer.style.display = "none"; // Hide quiz
    quizContainer.classList.remove("celebrate");

    // ✅ Reset Buttons and UI
    nextButton.style.display = "none";  // Hide Next button initially
    restartButton.style.display = "none";  // Hide Restart button

    // ✅ Reload Question Pool to Start Fresh
    questionPool = []; // Clear old questions
    currentQuestionIndex = 0; // Reset index

    // ✅ Reload Category Selection to Restart Properly
    document.querySelectorAll(".category").forEach(button => {
        button.addEventListener("click", () => {
            const selectedCategory = button.getAttribute("data-category");
            startQuiz(selectedCategory);
        });
    });
});